@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;
    --card: 222 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 84% 4.9%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    
    /* Navigation variables */
    --bottom-nav-height: 110px;
    --bottom-nav-padding: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom));
    --pwa-extra-padding: 0px;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    background-color: hsl(222, 47%, 11%);
    color: hsl(210, 40%, 98%);
    /* Disable browser swipe navigation */
    overscroll-behavior-x: none;
    -webkit-overflow-scrolling: touch;
    margin: 0;
    position: relative;
    min-height: 100dvh;
  }

  /* Disable swipe gestures on all containers */
  .container, .min-h-screen, div[class*="mx-auto"] {
    overscroll-behavior-x: none;
    -webkit-overflow-scrolling: touch;
  }

  /* CSS Grid App Layout - eliminates PWA positioning issues */
  .app-grid-layout {
    display: grid;
    grid-template-rows: 1fr auto;
    min-height: 100vh;
    min-height: 100dvh;
  }

  .app-content {
    overflow-y: auto;
    overflow-x: hidden;
  }

  /* Extra padding for floating dock navigation */
  .min-h-screen, 
  .min-h-dvh {
    padding-bottom: 120px !important;
    box-sizing: border-box;
  }

  /* PWA-specific adjustments */
  @media (display-mode: standalone) {
    :root {
      --pwa-extra-padding: 40px;
    }
    
    body {
      /* Enhanced safe area handling for PWA */
      padding-top: env(safe-area-inset-top);
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
    }
    
  }



  /* Animation for save confirmation toast */
  @keyframes fadeInOut {
    0% { opacity: 0; transform: translateY(-10px); }
    20% { opacity: 1; transform: translateY(0); }
    80% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(-10px); }
  }
}

/* FitCircle Design System */
@layer utilities {
  /* Page Layout */
  .fitcircle-page {
    @apply min-h-dvh text-white;
    background-color: hsl(222, 47%, 11%);
  }
  
  .fitcircle-container {
    @apply container mx-auto px-4 py-6 max-w-md;
  }
  
  /* Header Styles */
  .fitcircle-header {
    @apply relative text-center mb-8;
  }
  
  .fitcircle-page-title {
    @apply text-xl font-semibold text-white;
  }
  
  .fitcircle-back-button {
    @apply text-slate-400 hover:text-white transition-colors flex items-center space-x-2;
  }
  
  /* Card Styles */
  .fitcircle-card {
    @apply bg-slate-800 rounded-xl p-4 border-slate-700;
  }
  
  .fitcircle-card-lg {
    @apply bg-slate-800 rounded-xl p-6 border-slate-700;
  }
  
  /* Form Elements */
  .fitcircle-input {
    @apply bg-slate-700 border-slate-600 text-white placeholder-slate-400 rounded-xl;
  }
  
  .fitcircle-select {
    @apply bg-slate-700 border-slate-600 text-white rounded-xl;
  }
  
  .fitcircle-label {
    @apply text-sm font-medium text-slate-300;
  }
  
  /* Button Styles */
  .fitcircle-btn-primary {
    @apply bg-green-600 hover:bg-green-700 text-white rounded-xl transition-colors;
  }
  
  .fitcircle-btn-secondary {
    @apply bg-slate-600 hover:bg-slate-700 text-white rounded-xl transition-colors;
  }
  
  .fitcircle-btn-outline {
    @apply border-slate-600 bg-slate-700 text-slate-300 hover:bg-slate-600 rounded-xl transition-colors;
  }
  
  /* Text Styles */
  .fitcircle-text-muted {
    @apply text-slate-400;
  }
  
  .fitcircle-text-secondary {
    @apply text-slate-300;
  }
  
  .fitcircle-text-xs {
    @apply text-xs text-slate-400;
  }
  
  .fitcircle-text-sm {
    @apply text-sm text-slate-300;
  }
}

/* Workout Color Classes */
.workout-green { 
  background: linear-gradient(135deg, #10b981, #059669);
  box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
}

.workout-blue { 
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

.workout-purple { 
  background: linear-gradient(135deg, #8b5cf6, #7c3aed);
  box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
}

.workout-amber { 
  background: linear-gradient(135deg, #f59e0b, #d97706);
  box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
}

.workout-red { 
  background: linear-gradient(135deg, #ef4444, #dc2626);
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

.workout-pink { 
  background: linear-gradient(135deg, #ec4899, #db2777);
  box-shadow: 0 0 20px rgba(236, 72, 153, 0.3);
}

.workout-cyan { 
  background: linear-gradient(135deg, #06b6d4, #0891b2);
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
}

.workout-lime { 
  background: linear-gradient(135deg, #65a30d, #4d7c0f);
  box-shadow: 0 0 20px rgba(101, 163, 13, 0.3);
}

.workout-orange { 
  background: linear-gradient(135deg, #ea580c, #c2410c);
  box-shadow: 0 0 20px rgba(234, 88, 12, 0.3);
}

.workout-indigo { 
  background: linear-gradient(135deg, #6366f1, #4f46e5);
  box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
}

.workout-emerald { 
  background: linear-gradient(135deg, #059669, #047857);
  box-shadow: 0 0 20px rgba(5, 150, 105, 0.3);
}

.workout-yellow { 
  background: linear-gradient(135deg, #eab308, #ca8a04);
  box-shadow: 0 0 20px rgba(234, 179, 8, 0.3);
}

/* Progress circle animations */
.progress-circle-animate {
  animation: pulse 0.3s ease-out;
}

@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

/* Progress ring stroke animations */
.progress-stroke {
  transition: stroke-dashoffset 0.5s ease-out;
}

/* Hover effects for circles */
.workout-circle:hover {
  transform: scale(1.02);
  transition: transform 0.2s ease-out;
}

/* Active/clicking state for circles */
.workout-circle:active {
  transform: scale(0.98);
}

/* Modal backdrop styles */
.modal-backdrop {
  backdrop-filter: blur(4px);
  background-color: rgba(0, 0, 0, 0.7);
}

/* Smooth transitions for sidebar */
.sidebar-transition {
  transition: transform 0.3s ease-out;
}

/* Custom scrollbar for sidebar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: hsl(217.2, 32.6%, 17.5%);
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: hsl(215, 20.2%, 65.1%);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: hsl(210, 40%, 80%);
}

/* Dialog/Modal styling */
.fitcircle-dialog {
  @apply bg-card border-border text-card-foreground;
}
